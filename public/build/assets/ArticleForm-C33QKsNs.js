import{r as m,u as b,j as t}from"./app-DEUS2MBr.js";import{S as g,a as j,V as E}from"./index-BQS66ObU.js";import{a as u}from"./app-layout-Vwxekgor.js";import{C as v,a as y}from"./ckeditor-IcZjwGCE.js";function F({article:e}){const[o,l]=m.useState({}),{data:n,setData:i,post:p,put:f,errors:c,processing:d}=b({title:e?.title??""}),h=async()=>{try{return await j.validate(n,{abortEarly:!1}),l({}),!0}catch(r){if(r instanceof E){const s={};r.inner.forEach(a=>{a.path&&(s[a.path]=a.message)}),l(s)}return!1}},x=async r=>{r.preventDefault(),await h()&&(e?f(u.update.url(e.id),{preserveScroll:!0}):p(u.store.url(),{preserveScroll:!0}))};return m.useEffect(()=>{e&&i({title:e.title??""})},[e,i]),t.jsxs("form",{onSubmit:x,className:"space-y-4 py-5",children:[t.jsx("div",{className:"flex justify-end",children:t.jsxs("button",{type:"submit",disabled:d,className:"rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50 flex gap-x-2",children:[t.jsx(g,{className:"w-5"}),d?"Enregistrement...":e?"Mettre Ã  jour":"Enregistrer"]})}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"content",className:"block font-medium",children:"Description"}),t.jsx(v,{editor:y,data:n.title,onChange:(r,s)=>{const a=s.getData();i("title",a)},config:{toolbar:["undo","redo","|","heading","|","bold","italic","underline","strikethrough","highlight","removeFormat","|"],table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}}}),o.title&&t.jsx("p",{className:"text-sm text-red-500",children:o.title}),c.title&&t.jsx("p",{className:"text-sm text-red-500",children:c.title})]})]})}export{F as A};
