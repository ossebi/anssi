import{r as q,u as k,j as r,H as L,L as T}from"./app-DEUS2MBr.js";import{S as O,f as H,V as U}from"./index-BQS66ObU.js";import{C as V,a as P}from"./ckeditor-IcZjwGCE.js";import{q as c,a as y}from"./index-CMWG4mbA.js";import{A as $}from"./app-layout-Vwxekgor.js";import{C as R}from"./circle-plus-Du798Pfr.js";import"./app-Dn4CYCCK.js";import"./createLucideIcon-CSZvS206.js";import"./button-C-oOinsX.js";import"./index-BNjgF2tV.js";import"./index-DpawEtTx.js";import"./x-_vUz4eUP.js";import"./index-yQxWDced.js";import"./logo-lg-DSsbnW8O.js";import"./chevron-right-CS8cLFe1.js";const o=e=>({url:o.url(e),method:"get"});o.definition={methods:["get","head"],url:"/abouts"};o.url=e=>o.definition.url+c(e);o.get=e=>({url:o.url(e),method:"get"});o.head=e=>({url:o.url(e),method:"head"});const j=e=>({action:o.url(e),method:"get"});j.get=e=>({action:o.url(e),method:"get"});j.head=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});o.form=j;const l=e=>({url:l.url(e),method:"get"});l.definition={methods:["get","head"],url:"/abouts/create"};l.url=e=>l.definition.url+c(e);l.get=e=>({url:l.url(e),method:"get"});l.head=e=>({url:l.url(e),method:"head"});const Q=e=>({action:l.url(e),method:"get"});Q.get=e=>({action:l.url(e),method:"get"});Q.head=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});l.form=Q;const s=e=>({url:s.url(e),method:"post"});s.definition={methods:["post"],url:"/abouts"};s.url=e=>s.definition.url+c(e);s.post=e=>({url:s.url(e),method:"post"});const N=e=>({action:s.url(e),method:"post"});N.post=e=>({action:s.url(e),method:"post"});s.form=N;const u=(e,t)=>({url:u.url(e,t),method:"get"});u.definition={methods:["get","head"],url:"/abouts/{slug}"};u.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={slug:e}),Array.isArray(e)&&(e={slug:e[0]}),e=y(e);const a={slug:e.slug};return u.definition.url.replace("{slug}",a.slug.toString()).replace(/\/+$/,"")+c(t)};u.get=(e,t)=>({url:u.url(e,t),method:"get"});u.head=(e,t)=>({url:u.url(e,t),method:"head"});const A=(e,t)=>({action:u.url(e,t),method:"get"});A.get=(e,t)=>({action:u.url(e,t),method:"get"});A.head=(e,t)=>({action:u.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});u.form=A;const i=(e,t)=>({url:i.url(e,t),method:"get"});i.definition={methods:["get","head"],url:"/abouts/{id}/edit"};i.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={id:e}),Array.isArray(e)&&(e={id:e[0]}),e=y(e);const a={id:e.id};return i.definition.url.replace("{id}",a.id.toString()).replace(/\/+$/,"")+c(t)};i.get=(e,t)=>({url:i.url(e,t),method:"get"});i.head=(e,t)=>({url:i.url(e,t),method:"head"});const E=(e,t)=>({action:i.url(e,t),method:"get"});E.get=(e,t)=>({action:i.url(e,t),method:"get"});E.head=(e,t)=>({action:i.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});i.form=E;const d=(e,t)=>({url:d.url(e,t),method:"put"});d.definition={methods:["put"],url:"/abouts/{about}"};d.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={about:e}),Array.isArray(e)&&(e={about:e[0]}),e=y(e);const a={about:e.about};return d.definition.url.replace("{about}",a.about.toString()).replace(/\/+$/,"")+c(t)};d.put=(e,t)=>({url:d.url(e,t),method:"put"});const F=(e,t)=>({action:d.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});F.put=(e,t)=>({action:d.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...t?.query??t?.mergeQuery??{}}}),method:"post"});d.form=F;const n=(e,t)=>({url:n.url(e,t),method:"delete"});n.definition={methods:["delete"],url:"/abouts/{slug}"};n.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={slug:e}),Array.isArray(e)&&(e={slug:e[0]}),e=y(e);const a={slug:e.slug};return n.definition.url.replace("{slug}",a.slug.toString()).replace(/\/+$/,"")+c(t)};n.delete=(e,t)=>({url:n.url(e,t),method:"delete"});const w=(e,t)=>({action:n.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});w.delete=(e,t)=>({action:n.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});n.form=w;const x={index:Object.assign(o,o),create:Object.assign(l,l),store:Object.assign(s,s),show:Object.assign(u,u),edit:Object.assign(i,i),update:Object.assign(d,d),destroy:Object.assign(n,n)};function z({item:e}){const[t,a]=q.useState({}),{data:b,setData:g,post:C,put:S,errors:f,processing:v}=k({slogan:e?.slogan||"",description:e?.description||""}),_=async()=>{try{return await H.validate(b,{abortEarly:!1}),a({}),!0}catch(m){if(m instanceof U){const h={};m.inner.forEach(p=>{p.path&&(h[p.path]=p.message)}),a(h)}return!1}},D=async m=>{m.preventDefault(),await _()&&(e?S(x.update.url(e.id),{preserveScroll:!0}):C(x.store.url(),{preserveScroll:!0}))};return q.useEffect(()=>{e&&g({slogan:e.slogan||"",description:e.description||""})},[e,g]),r.jsxs("form",{onSubmit:D,className:"space-y-4 py-5",children:[r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",disabled:v,className:"flex items-center rounded bg-blue-600 text-sm px-4 py-2 text-white hover:bg-blue-700 disabled:opacity-50 gap-x-2",children:[r.jsx(O,{className:"w-4"}),r.jsxs("span",{children:[" ",v?"Enregistrement...":e?"Mettre à jour la page":"Créer la page A-propos"]})]})}),r.jsxs("div",{className:"px-4",children:[r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"title",className:"block font-medium",children:"Titre"}),r.jsx("input",{id:"title",type:"text",value:b.slogan,onChange:m=>g("slogan",m.target.value),className:"w-full rounded border p-2"}),t.slogan&&r.jsx("p",{className:"text-sm text-red-500",children:t.slogan}),f.slogan&&r.jsx("p",{className:"text-sm text-red-500",children:f.slogan})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"content",className:"block font-medium",children:"Description"}),r.jsx(V,{editor:P,data:b.description||"",onChange:(m,h)=>{const p=h.getData();g("description",p)},config:{toolbar:["undo","redo","|","heading","|","bold","italic","underline","strikethrough","highlight","removeFormat","|","link","blockQuote","|","bulletedList","numberedList","outdent","indent","|","insertTable","|","imageUpload","mediaEmbed","|","alignment","fontColor","fontBackgroundColor","fontSize","fontFamily"],ckfinder:{uploadUrl:"/api/upload-image"},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]}}}),t.description&&r.jsx("p",{className:"text-sm text-red-500",children:t.description}),f.description&&r.jsx("p",{className:"text-sm text-red-500",children:f.description})]})]})]})}const B=[{title:"Liste > A-propos",href:"abouts.index"}];function ie({aboutData:e}){return r.jsxs($,{breadcrumbs:B,children:[r.jsx(L,{title:"A propos"}),e&&r.jsx("div",{className:"rounded-xl p-4",children:r.jsxs(T,{className:"flex items-center gap-x-4 max-w-48 cursor-pointer px-2 py-1 text-xs  text-blue-500 rounded border border-blue-500 hover:bg-blue-800 hover:text-white transition-colors duration-500",href:x.index(),children:[r.jsx(R,{}),r.jsx("span",{children:"Ajouter une section"})]})}),r.jsx("div",{className:"overflow-hidden bg-white p-4",children:r.jsx(z,{item:e})})]})}export{ie as default};
